---
sidebar_position: 1
description: TMC 2209
---

# TMC 2209

<!-- import lib start -->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<!-- import lib end -->

<div class="div-table">

<img
    src={require('@site/docs/module-docs/tmc-driver/tmc-2209/img/TMC2209_Title.png').default}
    alt="" width="35%" class="right-image"
/>

## 产品简介

TMC2209是一款用于两相步进电机的超静音电机驱动。其连续驱动电流为2A，峰值电流为2.8A。与TMC2208相比，该集成电路的驱动电流不仅提高了0.6a-0.8a，而且增加了锁定电机测试的功能。

## Specifications

| Specifications | TMC 2209         |
| -------------- | ---------------- |
| 驱动芯片       | TMC 2209         |
| 最大电压       | 29V              |
| 驱动电流       | 2A RMS 2.8A peak |

</div>

## 接口示意图

:::info[原理图 / Schematic]

TMC 2209 V1.1 原理图 [TMC2209-V1.1.pdf](hhttps://github.com/bigtreetech/BIGTREETECH-Stepper-Motor-Driver/blob/master/TMC2209/V1.1/Schematic/TMC2209-V1.1.pdf)

TMC 2209 V1.2 原理图 [TMC2209-V1.2.pdf](https://github.com/bigtreetech/BIGTREETECH-Stepper-Motor-Driver/blob/master/TMC2209/V1.2/Schematic/TMC2209-V1.2.pdf)

TMC 2209 V1.3 原理图 [TMC2209 V1.3-SCH.pdf](https://github.com/bigtreetech/BIGTREETECH-Stepper-Motor-Driver/blob/master/TMC2209/V1.3/Schematic/TMC2209%20V1.3-SCH.pdf)

:::

<img
    src={require('@site/docs/module-docs/tmc-driver/tmc-2209/img/TMC2209_Func.png').default}
    alt="" width="45%"
/>

## 尺寸

:::info[STEP 模型]

TMC 2209 V1.3 模型 [TMC2209 V1.3.step](https://github.com/bigtreetech/BIGTREETECH-Stepper-Motor-Driver/blob/master/TMC2209/V1.3/3D/TMC2209%20V1.3.step)

:::

<img
    src={require('@site/docs/module-docs/tmc-driver/tmc-2209/img/TMC2209_Dimension.png').default}
    alt="" width="45%"
/>

## 硬件功能配置

### Step/Dir 模式配置电流

Trinamic Driver 电流计算公式

$I_{RMS}=\frac{325mV}{R_{SENSE}+20mΩ}*\frac{1}{\sqrt{2}}*\frac{V_{VREF}}{2.5V}$	

TMC 2209 驱动模块 使用 $110 mΩ _{RSENSE}$ 电阻
		
$I_{RMS}=\frac{325mV}{110mΩ+20mΩ}*\frac{1}{\sqrt{2}}*\frac{V_{VREF}}{2.5V}$			
		
可以简化为

$I_{RMS}=\frac{V_{REF}}{\sqrt{2}}$

计算峰值电流

$I_{PEAK}=I_{RMS}*\sqrt{2}=V_{REF}$

:::note
$V_{REF}$ 范围: 0.2V – 2.2V

默认电压 Vref: 1.2V +/- 0.1V

默认电流 RMS: ~0.9A 
:::

### UART模式引脚设置

默认已将 UART 引脚连接至第四引脚，即下图左侧所示的 PDN_UART 引脚。若将第五引脚作为 UART 引脚使用，则需移除电阻并焊接至下图右侧所示的两个焊盘。PDN需焊接至对应UART模式的选择引脚。

<img
    src={require('@site/docs/module-docs/tmc-driver/tmc-2209/img/TMC2209_Uart.png').default}
    alt="" width="45%"
/>

### UART模式接线图

<img
    src={require('@site/docs/module-docs/tmc-driver/tmc-2209/img/TMC2209_Uart1.png').default}
    alt="" width="80%"
/>

### stealthChop / spreadCycle 选择

默认使用 `stealthChop`, 如图左侧所示。如果要使用 `spreadCycle`，移除电阻并将其焊接至下方两个焊盘，如图右侧所示。

<img
    src={require('@site/docs/module-docs/tmc-driver/tmc-2209/img/TMC2209_Mode1.png').default}
    alt="" width="80%"
/>

## Klipper Uart 配置

```klipper_cfg title="printer.cfg"
[tmc2209 stepper_x]
uart_pin: PC4
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 0
```
